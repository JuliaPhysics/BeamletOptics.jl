<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Beams · BeamletOptics.jl</title><meta name="title" content="Beams · BeamletOptics.jl"/><meta property="og:title" content="Beams · BeamletOptics.jl"/><meta property="twitter:title" content="Beams · BeamletOptics.jl"/><meta name="description" content="Documentation for BeamletOptics.jl."/><meta property="og:description" content="Documentation for BeamletOptics.jl."/><meta property="twitter:description" content="Documentation for BeamletOptics.jl."/><meta property="og:url" content="https://StackEnjoyer.github.io/BeamletOptics.jl/basics/beams/"/><meta property="twitter:url" content="https://StackEnjoyer.github.io/BeamletOptics.jl/basics/beams/"/><link rel="canonical" href="https://StackEnjoyer.github.io/BeamletOptics.jl/basics/beams/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="BeamletOptics.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="BeamletOptics.jl logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/expander/">Beam expander</a></li><li><a class="tocitem" href="../../tutorials/michelson/">Michelson interferometer</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/spherical_lenses/">Spherical lenses</a></li><li><a class="tocitem" href="../../examples/aspherical_lenses/">Aspherical lenses</a></li><li><a class="tocitem" href="../../examples/double_gauss/">Double Gauss lens</a></li><li><a class="tocitem" href="../../examples/lens_groups/">Lens groups</a></li></ul></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../intro/">Introduction</a></li><li><a class="tocitem" href="../rays/">Rays</a></li><li class="is-active"><a class="tocitem" href>Beams</a><ul class="internal"><li><a class="tocitem" href="#Basic-beam"><span>Basic beam</span></a></li><li><a class="tocitem" href="#Gaussian-beamlet"><span>Gaussian beamlet</span></a></li></ul></li><li><a class="tocitem" href="../elements/">Optical elements</a></li><li><a class="tocitem" href="../systems/">Optical systems</a></li></ul></li><li><span class="tocitem">Components</span><ul><li><a class="tocitem" href="../../components/components/">Overview</a></li><li><a class="tocitem" href="../../components/mirrors/">Mirrors</a></li><li><a class="tocitem" href="../../components/lenses/">Lenses</a></li><li><a class="tocitem" href="../../components/beamsplitters/">Beamsplitters</a></li><li><a class="tocitem" href="../../components/detectors/">Detectors</a></li></ul></li><li><span class="tocitem">Developer Documentation</span><ul><li><a class="tocitem" href="../../guide/">Dev. guide</a></li><li><a class="tocitem" href="../../design/">API design</a></li></ul></li><li><a class="tocitem" href="../../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Basics</a></li><li class="is-active"><a href>Beams</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Beams</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/StackEnjoyer/BeamletOptics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/StackEnjoyer/BeamletOptics.jl/blob/master/docs/src/basics/beams.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Beams"><a class="docs-heading-anchor" href="#Beams">Beams</a><a id="Beams-1"></a><a class="docs-heading-anchor-permalink" href="#Beams" title="Permalink"></a></h1><p>As mentioned in the <a href="../rays/#Rays">Rays</a> section, a beam within the context of this package serves as a data structure for storing collections of rays, forming the backbone of the simulation framework. Beams are intended to be designed as <a href="https://github.com/JuliaCollections/AbstractTrees.jl">AbstractTrees</a> to allow for ray bifurcations, e.g. in the case of optical elements such as beamsplitters. The <a href="../systems/#BeamletOptics.solve_system!-basics-systems"><code>solve_system!</code></a> function relies on this data structure to perform ray tracing computations within optical systems. </p><p>To ensure compatibility and extensibility, beam types must adhere to the <a href="../../reference/#BeamletOptics.AbstractBeam"><code>BeamletOptics.AbstractBeam</code></a> interface. Refer to its documentation for more information.</p><h2 id="Basic-beam"><a class="docs-heading-anchor" href="#Basic-beam">Basic beam</a><a id="Basic-beam-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-beam" title="Permalink"></a></h2><p>A minimal implementation of the <a href="../../reference/#BeamletOptics.AbstractBeam"><code>BeamletOptics.AbstractBeam</code></a> type is provided by the <a href="../../reference/#BeamletOptics.Beam"><code>Beam</code></a>. It can be used to store a light path through an optical system. If the beam is split, its children will be recursively traced until all paths are solved.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BeamletOptics.Beam-basics-beams" href="#BeamletOptics.Beam-basics-beams"><code>BeamletOptics.Beam</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Beam{T, R &lt;: AbstractRay{T}} &lt;: AbstractBeam{T, R}</code></pre><p>Stores the rays that are calculated from geometric optics when propagating through an optical system. The <code>Beam</code> type is parametrically defined by the <a href="../../reference/#BeamletOptics.AbstractRay"><code>AbstractRay</code></a> subtype that it stores.</p><p><strong>Fields</strong></p><ul><li><code>rays</code>: vector of <code>AbstractRay</code> objects, representing the rays that make up the beam</li><li><code>parent</code>: reference to the parent beam, if any (<a href="../../reference/#BeamletOptics.Nullable"><code>Nullable</code></a> to account for the root beam which has no parent)</li><li><code>children</code>: vector of child beams, each child beam represents a branching or bifurcation of the original beam, i.e. beam-splitting</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/StackEnjoyer/BeamletOptics.jl/blob/da91a645095ce42d0f79f6197998c5e208e0cd51/src/Beam.jl#L1-L12">source</a></section></article><p>The propagation of multiple parallel beams through an imaging system is illustrated below. The <a href="../../tutorials/expander/#Beam-expander">Beam expander</a> tutorial covers the use of the <a href="../../reference/#BeamletOptics.Beam"><code>Beam</code></a> in more detail. A ray tracing example using <a href="../../reference/#BeamletOptics.Beam"><code>Beam</code></a>s is shown below.</p><pre><code class="language-julia hljs">using CairoMakie, BeamletOptics

# setup system
LA1353 = SphericalLens(103e-3, Inf, 10.1e-3, 75e-3, λ-&gt;1.5007)
LA1131 = SphericalLens(25.8e-3, Inf, 5.3e-3, BeamletOptics.inch, λ-&gt;1.5007)
LA1805 = SphericalLens(15.5e-3, Inf, 8.6e-3, BeamletOptics.inch, λ-&gt;1.5007)

zrotate3d!(LA1353, deg2rad(180))
zrotate3d!(LA1805, deg2rad(180))

translate3d!(LA1131, [0, 0.25, 0])
translate3d!(LA1805, [0, 0.29, 0])

system = System([LA1353, LA1131, LA1805])

# create render
fig = Figure(size=(600,220))
rend = Axis3(fig[1,1], aspect=(1,5,1), limits=(-0.05, 0.05, -0.1, 0.4, -0.05, 0.05), azimuth=0, elevation=1e-3)
hidexdecorations!(rend)
hidezdecorations!(rend)

render_system!(rend, system)

zs = LinRange(-0.025, 0.025, 7)

for z in zs
    beam = Beam(Ray([0, -0.1, z], [0, 1, 0.0], 1550e-9))
    solve_system!(system, beam)
    render_beam!(rend, beam, flen=0.1)
end</code></pre><p><img src="../telescope_with_beams.png" alt="Telescope with beams"/></p><h2 id="Gaussian-beamlet"><a class="docs-heading-anchor" href="#Gaussian-beamlet">Gaussian beamlet</a><a id="Gaussian-beamlet-1"></a><a class="docs-heading-anchor-permalink" href="#Gaussian-beamlet" title="Permalink"></a></h2><p>Lasers are common devices in modern optical laboratories. Modeling their propagation through an optical setup can be of interest when planning new experiments. Geometrical ray tracing struggles to capture the propagation of a laser beam correctly, since it can not inherently capture the wave nature of, e.g., the <a href="https://www.rp-photonics.com/gaussian_beams.html">Gaussian beam</a>.</p><p>The electric field of the <span>$\text{TEM}_{00}$</span> spatial Gaussian mode can be calculated analytically using the <a href="#BeamletOptics.electric_field-Tuple{Real, Real, Vararg{Any, 6}}-basics-beams"><code>BeamletOptics.electric_field</code></a> function: </p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BeamletOptics.electric_field-Tuple{Real, Real, Vararg{Any, 6}}-basics-beams" href="#BeamletOptics.electric_field-Tuple{Real, Real, Vararg{Any, 6}}-basics-beams"><code>BeamletOptics.electric_field</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">electric_field(r, z, E0, w0, w, k, ψ, R) -&gt; ComplexF64</code></pre><p>Computes the analytical complex electric field distribution of a stigmatic TEM₀₀ Gaussian beam which is described by:</p><p class="math-container">\[E(r,z) = {E_0}\frac{{{w_0}}}{{w(z)}}\exp\left( { - \frac{{{r^2}}}{{w{{(z)}^2}}}} \right)\exp\left(i\left[ {kz + \psi + \frac{{k{r^2}}}{2 R(z)}} \right] \right)\]</p><p><strong>Arguments</strong></p><ul><li><code>r</code>: radial distance from beam origin</li><li><code>z</code>: axial distance from beam origin</li><li><code>E0</code>: peak electric field amplitude</li><li><code>w0</code>: waist radius</li><li><code>w</code>: local beam radius</li><li><code>k</code>: wave number, equal to <code>2π/λ</code></li><li><code>ψ</code>: Gouy phase shift (defined as <span>$-\text{atan}\left(\frac{z}{z_r}\right)$</span> !)</li><li><code>R</code>: wavefront curvature, i.e. 1/r (radius of curvature)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/StackEnjoyer/BeamletOptics.jl/blob/da91a645095ce42d0f79f6197998c5e208e0cd51/src/Utils.jl#L223-L242">source</a></section></article><p>The evolution of this field through an optical system can be modeled e.g. by the ray transfer matrix formalism using the complex <span>$q$</span>-factor [<a href="../../reference/#Saleh2019">6</a>, pp. 27]. A Julia-based implementation of this approach can be found in <a href="https://github.com/JuliaPhysics/ABCDMatrixOptics.jl">ABCDMatrixOptics.jl</a>. However, in the case of this package another approach will be used.</p><h3 id="Complex-ray-tracing"><a class="docs-heading-anchor" href="#Complex-ray-tracing">Complex ray tracing</a><a id="Complex-ray-tracing-1"></a><a class="docs-heading-anchor-permalink" href="#Complex-ray-tracing" title="Permalink"></a></h3><p>In 1968 an internal publication at Bell Labs by J. Arnaud introduced the concept of complex rays wherein three geometrical beams can be used to model the propagation of a Gaussian in fundamental mode through a symmetric optical system, i.e. without the Gaussian obtaining astigmatism and/or higher-order abberations. This method is analoguos to the ray transfer matrix based <span>$q$</span>-method [<a href="../../reference/#Arnaud1968">7</a>].</p><p>Without extensions of the original method, the following key assumptions must be met such that this method can be applied</p><ul><li>all (complex) beams of the Gaussian in question must intersect the same optical elements</li><li>the optical elements are large compared to the beam (waist)</li><li>the paraxial approximation must hold for each beam</li><li>the Gaussian may not be clipped by hard apertures</li><li>Lagrange invariant must be fulfilled</li></ul><p>Various versions of this approach have been implemented under different names in commercial software, most notably <a href="https://photonengr.com/fred-software/">FRED</a> and <a href="https://www.synopsys.com/optical-solutions/codev.html">Code V</a>, as well as in open source software, e.g. </p><ul><li><a href="https://github.com/bryancole/raypier_optics">Raypier</a> - based on Cython, maintenance status not known</li><li><a href="https://github.com/Jashcraf/poke">Poke</a> - based on Zemax API and Python, maintained by J. Ashcraft et al. [<a href="../../reference/#Ashcraft:2022">8</a>]</li></ul><p>This package implements the above method via the <a href="../../reference/#BeamletOptics.GaussianBeamlet"><code>GaussianBeamlet</code></a> and the <code>BeamletOptics.AstigmaticGaussianBeamlet</code> (<strong>Work in progress</strong>).</p><h3 id="Stigmatic-Beamlets"><a class="docs-heading-anchor" href="#Stigmatic-Beamlets">Stigmatic Beamlets</a><a id="Stigmatic-Beamlets-1"></a><a class="docs-heading-anchor-permalink" href="#Stigmatic-Beamlets" title="Permalink"></a></h3><p>The <a href="../../reference/#BeamletOptics.GaussianBeamlet"><code>GaussianBeamlet</code></a> implements the <a href="../../reference/#BeamletOptics.AbstractBeam"><code>BeamletOptics.AbstractBeam</code></a> interface and can be used to model the propagation of a monochromatic Gaussian (<span>$\text{TEM}_{00}$</span>-mode) through optical system where all optics lie on the optical axis, e.g. no tip and/or tilt dealignment, and abberations can be neglected.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BeamletOptics.GaussianBeamlet-basics-beams" href="#BeamletOptics.GaussianBeamlet-basics-beams"><code>BeamletOptics.GaussianBeamlet</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GaussianBeamlet{T} &lt;: AbstractBeam{T, Ray{T}}</code></pre><p>Ray representation of the <strong>stigmatic</strong> Gaussian beam as per J. Arnaud (1985). The beam quality <code>M2</code> is fully considered via the divergence angle. Formalism for beam parameter calculation based on publications:</p><p><strong>Jacques Arnaud, &quot;Representation of Gaussian beams by complex rays,&quot; Appl. Opt. 24, 538-543 (1985)</strong></p><p>and</p><p><strong>Donald DeJager and Mark Noethen, &quot;Gaussian beam parameters that use Coddington-based Y-NU paraprincipal ray tracing,&quot; Appl. Opt. 31, 2199-2205 (1992)</strong></p><p><strong>Fields</strong></p><ul><li><code>chief</code>: a <a href="../../reference/#BeamletOptics.Beam"><code>Beam</code></a> of <a href="../../reference/#BeamletOptics.Ray"><code>Ray</code></a>s to store the chief ray</li><li><code>waist</code>: a <a href="../../reference/#BeamletOptics.Beam"><code>Beam</code></a> of <a href="../../reference/#BeamletOptics.Ray"><code>Ray</code></a>s to store the waist ray</li><li><code>divergence</code>: a <a href="../../reference/#BeamletOptics.Beam"><code>Beam</code></a> of <a href="../../reference/#BeamletOptics.Ray"><code>Ray</code></a>s to store the divergence ray</li><li><code>λ</code>: beam wavelength in [m]</li><li><code>w0</code>: local beam waist radius in [m]</li><li><code>E0</code>: complex field value in [V/m]</li><li><code>parent</code>: reference to the parent beam, if any (<a href="../../reference/#BeamletOptics.Nullable"><code>Nullable</code></a> to account for the root beam which has no parent)</li><li><code>children</code>: vector of child beams, each child beam represents a branching or bifurcation of the original beam, i.e. beam-splitting</li></ul><p><strong>Additional information</strong></p><div class="admonition is-info"><header class="admonition-header">Beam parameters</header><div class="admonition-body"><p>Parameters of the beam, e.g. <span>$w(z)$</span> or <span>$R(z)$</span>, can be obtained through the <a href="../../reference/#BeamletOptics.gauss_parameters-Tuple{GaussianBeamlet, Real}"><code>gauss_parameters</code></a> function.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Astigmatism and abberations</header><div class="admonition-body"><p>It is assumed, but not forbidden, that the optical system contains non-symmetric optical elements that cause the beam to obtain astigmatism or higher-order abberations. These can not be represented by the <code>GaussianBeamlet</code>. Refer to <strong>FIXME</strong> for more information.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/StackEnjoyer/BeamletOptics.jl/blob/da91a645095ce42d0f79f6197998c5e208e0cd51/src/Gaussian.jl#L1-L33">source</a></section></article><p>A <a href="../../reference/#BeamletOptics.GaussianBeamlet"><code>GaussianBeamlet</code></a> can be constructed via:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BeamletOptics.GaussianBeamlet-Tuple{AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}, Real, Real}-basics-beams" href="#BeamletOptics.GaussianBeamlet-Tuple{AbstractArray{&lt;:Real}, AbstractArray{&lt;:Real}, Real, Real}-basics-beams"><code>BeamletOptics.GaussianBeamlet</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">GaussianBeamlet(position, direction, λ, w0; kwargs...)</code></pre><p>Constructs a Gaussian beamlet at its waist with the specified beam parameters.</p><p><strong>Arguments</strong></p><p>The following inputs and arguments can be used to configure the beamlet:</p><p><strong>Inputs</strong></p><ul><li><code>position</code>: origin of the beamlet</li><li><code>direction</code>: direction of the beamlet</li><li><code>λ</code>: wavelength of the beamlet in [m]. Default value is 1000 nm.</li><li><code>w0</code>: beam waist (radius) in [m]. Default value is 1 mm.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>M2</code>: beam quality factor. Default is 1</li><li><code>P0</code>: beam total power in [W]. Default is 1 mW</li><li><code>z0</code>: beam waist offset in [m]. Default is 0 m</li><li><code>support</code>: <a href="../../reference/#BeamletOptics.Nullable"><code>Nullable</code></a> support vector for the construction of the waist and div rays</li></ul><p><strong>Additional information</strong></p><div class="admonition is-success"><header class="admonition-header">Waist offset</header><div class="admonition-body"><p>The <code>z0</code> keyword arg. can be used in order to spawn a beam where the waist is not located at the specified <code>position</code>, but rather at an offset <code>z0</code> in [m] along the chief ray axis.</p></div></div><div class="admonition is-info"><header class="admonition-header">Support vector</header><div class="admonition-body"><p>In order to calculate the basis vectors required for the beamlet construction, a random orthogonal vector is chosen. If results fluctuate due to the randomness of this vector, make sure to specify a fixed orthogonal <code>support</code> vector.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/StackEnjoyer/BeamletOptics.jl/blob/da91a645095ce42d0f79f6197998c5e208e0cd51/src/Gaussian.jl#L179-L211">source</a></section></article><h4 id="Obtaining-the-beam-parameters"><a class="docs-heading-anchor" href="#Obtaining-the-beam-parameters">Obtaining the beam parameters</a><a id="Obtaining-the-beam-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Obtaining-the-beam-parameters" title="Permalink"></a></h4><p>Below the telescope lens system from the <a href="#Basic-beam">Basic beam</a> section is traced again using a Gaussian beamlet with <span>$\lambda = 1550~\text{nm}$</span> and <span>$w_0 = 25~\text{mm}$</span>. The beam origin is 100 mm in front of the global origin.</p><pre><code class="language-julia hljs"># render beam first
beam = GaussianBeamlet([0, -0.1, 0], [0, 1, 0.0], 1550e-9, 20e-3)
solve_system!(system, beam)
render_beam!(rend, beam, flen=0.1, r_res=100, z_res=1000)

# render system to overlay beam
render_system!(rend, system)</code></pre><p><img src="../telescope_with_gaussian.png" alt="Telescope with Gaussian beamlet"/></p><p>In order to relate the traced geometrical beams/rays to the Gaussian parameters of interest, the publications of Arnaud, Herloski et al. and DeJager et al. are used [<a href="../../reference/#Arnaud1968">7</a>, <a href="../../reference/#Herloski1983">9</a>, <a href="../../reference/#DeJager1992">10</a>]. These are implemented in the <a href="../../reference/#BeamletOptics.gauss_parameters-Tuple{GaussianBeamlet, Real}"><code>BeamletOptics.gauss_parameters</code></a> function. Below the local waist radius and curvature <span>$R = r^{-1}$</span> have been calculated for the system above.</p><pre><code class="language-julia hljs">zs = 0:1e-5:0.5
w, R, ψ, w0 = BeamletOptics.gauss_parameters(beam, zs)</code></pre><p><img src="../gauss_parameters.png" alt="Gauss beam parameters"/></p><h3 id="Astigmatic-Polarized-Beamlets"><a class="docs-heading-anchor" href="#Astigmatic-Polarized-Beamlets">Astigmatic Polarized Beamlets</a><a id="Astigmatic-Polarized-Beamlets-1"></a><a class="docs-heading-anchor-permalink" href="#Astigmatic-Polarized-Beamlets" title="Permalink"></a></h3><ul><li>Assumptions<ul><li>homogeneous polarization distribution across waist</li><li>Lagrange invariant</li></ul></li></ul><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>WORK IN PROGRESS</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../rays/">« Rays</a><a class="docs-footer-nextpage" href="../elements/">Optical elements »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Wednesday 9 April 2025 17:33">Wednesday 9 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
